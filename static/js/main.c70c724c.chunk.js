(this["webpackJsonpoffline-first"]=this["webpackJsonpoffline-first"]||[]).push([[0],{54:function(t,n,e){"use strict";e.r(n);var r,i,o,a,c,s,d,u,l,m,b,f,j,p,g,h,O,x=e(1),v=e.n(x),w=e(22),k=e.n(w),y=e(2),z=e(3),L=z.b.header(r||(r=Object(y.a)(["\n\tmargin: 0 0 2rem;\n\tpadding: 1rem;\n\twidth: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.7);\n"]))),R=z.b.h1(i||(i=Object(y.a)(["\n\tmargin: 0;\n\tfont-size: 1.8rem;\n\tcolor: white;\n\ttext-align: center;\n"]))),S=e(0),U=function(){return Object(S.jsx)(L,{children:Object(S.jsx)(R,{children:"Weather"})})},C=e(12),B=e(6),E=z.b.input(o||(o=Object(y.a)(["\n\twidth: calc(100% - 4rem - 1rem - 4rem - 1rem);\n\tfont-size: 1.8rem;\n\tpadding: 0.4rem 1rem;\n"]))),W=z.b.button(a||(a=Object(y.a)(["\n\twidth: 4rem;\n\tfont-size: 1.8rem;\n\tpadding: 0.4rem 0;\n\tmargin-left: 1rem;\n\tcursor: pointer;\n"]))),A=z.b.form(c||(c=Object(y.a)(["\n\tmargin: 0 auto 1rem;\n\tmax-width: 400px;\n"]))),F=function(t){var n=t.value,e=t.onAddLocation,r=t.onChange,i=t.onRefresh;return Object(S.jsxs)(A,{onSubmit:function(t){t.preventDefault(),e&&e(n)},children:[Object(S.jsx)(E,{type:"AddLocation",onChange:function(t){return r&&r(t.target.value)},placeholder:"Add a new location",value:n}),Object(S.jsx)(W,{type:"submit",children:"\u2795"}),Object(S.jsx)(W,{type:"button",onClick:i,children:"\ud83d\udd01"})]})},_=z.b.section(s||(s=Object(y.a)(["\n\tmargin: 0;\n\tpadding: 0;\n"]))),J=e(25),P=e.n(J),q=function(t,n){return P.a.get((e=t,"".concat("https://api.weatherapi.com/v1","/current.json?key=").concat("9e942719e3124f02811212618210208","&q=").concat(e))).then((function(t){var e={lastUpdated:t.data.current.last_updated,temperature:t.data.current.temp_c,feelsLike:t.data.current.feelslike_c,humidity:t.data.current.humidity,condition:t.data.current.condition.text,icon:t.data.current.condition.icon,location:"".concat(t.data.location.name,", ").concat(t.data.location.region)};return n?(n(e),e):e})).catch((function(t){return console.error("Fail to fetch",t),null}));var e},D=z.b.section(d||(d=Object(y.a)(['\n\tbackground-color: white;\n\tmargin: 2rem auto;\n\tpadding: 2rem;\n\tdisplay: grid;\n\tmin-width: 310px;\n\tmax-width: 400px;\n\tgrid-template-columns: max-content max-content 1fr;\n\tgrid-template-rows: repeat(6, auto);\n\tgrid-template-areas:\n\t\t"location location location"\n\t\t"lastUpdated lastUpdated lastUpdated"\n\t\t"icon temperature condition"\n\t\t"icon temperature feelsLike"\n\t\t"icon temperature humidity"\n\t\t"removeButton removeButton removeButton";\n\tgrid-gap: 0.5rem;\n\tbox-shadow: 1px 2px 3px #ccc;\n\n\t@media screen and (min-width: 400px) {\n\t\tborder-radius: 1rem;\n\t}\n']))),H=z.b.p(u||(u=Object(y.a)(["\n\tgrid-area: location;\n\tmargin: 0;\n\tfont-size: 1.8rem;\n\tfont-weight: 700;\n"]))),I=z.b.p(l||(l=Object(y.a)(["\n\tgrid-area: lastUpdated;\n\tmargin: 0;\n\tfont-size: 1.6rem;\n"]))),M=z.b.img(m||(m=Object(y.a)(["\n\tgrid-area: icon;\n\talign-self: center;\n\tmargin: 0;\n"]))),T=z.b.p(b||(b=Object(y.a)(["\n\tgrid-area: temperature;\n\tmargin: 0;\n\talign-self: center;\n\tpadding-right: 1rem;\n\tfont-size: 4.6rem;\n\tfont-weight: 700;\n"]))),Y=z.b.p(f||(f=Object(y.a)(["\n\tgrid-area: condition;\n\tmargin: 0;\n\tfont-size: 1.6rem;\n"]))),G=z.b.p(j||(j=Object(y.a)(["\n\tgrid-area: feelsLike;\n\tmargin: 0;\n\tfont-size: 1.3rem;\n"]))),K=z.b.p(p||(p=Object(y.a)(["\n\tgrid-area: humidity;\n\tmargin: 0;\n\tfont-size: 1.3rem;\n"]))),N=z.b.button(g||(g=Object(y.a)(["\n\tgrid-area: removeButton;\n\tmargin-top: 1rem;\n\tcursor: pointer;\n\twidth: 100%;\n\tfont-size: 1.6rem;\n\tpadding: 0.5rem 0;\n\tborder-radius: 0.5rem;\n\tborder: 1px solid rgba(200, 0, 0, 0.4);\n\tbackground-color: rgba(200, 0, 0, 0.3);\n\t&:hover {\n\t\tbackground-color: rgba(200, 0, 0, 0.4);\n\t}\n"]))),Q=function(t){var n=t.lastUpdated,e=t.temperature,r=t.feelsLike,i=t.humidity,o=t.condition,a=t.icon,c=t.location,s=t.onRemove;return Object(S.jsxs)(D,{children:[Object(S.jsx)(H,{children:c}),Object(S.jsx)(I,{children:n}),Object(S.jsx)(M,{src:a,alt:"The weather is ".concat(o)}),Object(S.jsxs)(T,{children:[e,"\xbaC"]}),Object(S.jsx)(Y,{children:o}),Object(S.jsxs)(G,{children:["Feels like ",r,"\xbaC"]}),Object(S.jsxs)(K,{children:["Humidity ",i,"%"]}),Object(S.jsx)(N,{type:"button",onClick:function(){return s&&s(c)},children:"Remove"})]})},V=function(t){var n=t.weathers,e=t.onRemoveLocation;return Object(S.jsx)(S.Fragment,{children:n.map((function(t){return Object(S.jsx)(Q,{condition:t.condition,feelsLike:t.feelsLike,humidity:t.humidity,icon:t.icon,lastUpdated:t.lastUpdated,location:t.location,temperature:t.temperature,onRemove:e},"".concat(t.location,"-").concat(t.lastUpdated))}))})},X=function(){var t=Object(x.useState)([]),n=Object(B.a)(t,2),e=n[0],r=n[1],i=Object(x.useState)(["Campinas, Sao Paulo"]),o=Object(B.a)(i,2),a=o[0],c=o[1],s=Object(x.useState)(!1),d=Object(B.a)(s,2),u=d[0],l=d[1],m=Object(x.useState)(""),b=Object(B.a)(m,2),f=b[0],j=b[1];Object(x.useEffect)((function(){a.forEach((function(t){return q(t,function(t){return function(n){var i=e.filter((function(n){return!n.location.includes(t)}));r([].concat(Object(C.a)(i),[n]))}}(t))}))}),[a]),Object(x.useEffect)((function(){u&&(l(!1),Promise.all(a.map((function(t){return q(t)}))).then((function(t){var n=t.filter((function(t){return null!==t}));r(n)})))}),[u]);return Object(S.jsxs)(_,{children:[Object(S.jsx)(F,{value:f,onChange:j,onAddLocation:function(t){a.includes(t)||c([].concat(Object(C.a)(a),[t])),j("")},onRefresh:function(){l(!0)}}),Object(S.jsx)(V,{weathers:e.sort(),onRemoveLocation:function(t){c(a.filter((function(n){return!t.includes(n)}))),r(e.filter((function(n){return n.location!==t})))}})]})},Z=z.b.main(h||(h=Object(y.a)(["\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n\theight: 100vh;\n\tbackground-color: #fafafa;\n"]))),$=function(){return Object(S.jsxs)(Z,{children:[Object(S.jsx)(U,{}),Object(S.jsx)(X,{})]})},tt=Object(z.a)(O||(O=Object(y.a)(["\n\t@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,700;1,100;1,700&display=swap');\n\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\n  html, body {\n    margin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 10px;\n\t\tfont-family: \"Roboto\", sans-serif;\n  }\n"])));k.a.render(Object(S.jsxs)(v.a.StrictMode,{children:[Object(S.jsx)(tt,{}),Object(S.jsx)($,{})]}),document.getElementById("root")),function(){if("serviceWorker"in navigator){var t=function(t){console.log("ServiceWorker registration successful with scope: ",t.scope)},n=function(t){console.log("ServiceWorker registration failed: ",t)};window.addEventListener("load",(function(){navigator.serviceWorker.register("/offline-first/service-worker.js",{scope:"/offline-first/"}).then(t).catch(n)}))}else console.log("Your browser does not support service worker")}()}},[[54,1,2]]]);
//# sourceMappingURL=main.c70c724c.chunk.js.map